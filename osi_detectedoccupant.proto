syntax = "proto2";

option optimize_for = SPEED;

import "osi_common.proto";
import "osi_occupant.proto";
import "osi_detectedobject.proto";

package osi;

//
// \brief A vehicle occupant as detected and perceived by an interior sensor.
//
message DetectedOccupant
{
    // Specific ID of the occupant as assigned by the sensor internally. Need
    // not match with ground_truth_id.
    optional Identifier tracking_id = 2;

    // The ID of the original vehicle occupant in the ground truth.
    //
    optional Identifier ground_truth_occupant_id = 4;

    // The amount of time that this detected object has been currently 
    // observed/tracked.
    // 
    // Unit: [s]
    optional double age = 1000;

    // The measurement state.
    //
    optional MeasurementState measurement_state = 6;

    // The detected vehicle occupant
    //
    optional Occupant occupant = 3;

    // The estimated probability that this occupant really exists, not based on history.
    //
    // \note Use as confidence measure where a low value means less confidence
    // and a high value indicates strong confidence.
    optional double existence_probability = 5;

    // A list of sensors which detected this detected entity.
    //
    // If SensorData has detected entities and all detections are missing, then 
    // e.g. the number of sensors can confirm the existence_probability.
    // 
    // \note This information can be determined via the detected entities'
    // detections ( \c ...Detection::object_id = 'this detected entity' ) and
    // the sensors (their IDs) to which these detections belong.
    repeated Identifier sensor_id = 7;    
}
